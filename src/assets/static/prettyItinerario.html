<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Itinerario calculado</title>
  <link rel="stylesheet" type="text/css" href="whitegraph.css"/>
  <script src="highcharts/highcharts.js"></script>
  <script src="highcharts/highcharts-more.js"></script>
  <script src="highcharts/highcharts-3d.js"></script>
  <script src="highcharts/modules/exporting.js"></script>
  <script src="highcharts/modules/export-data.js"></script>
  <script src="highcharts/modules/accessibility.js"></script>
  <script src="googleapis/jquery.min.js"></script>
  <script src="graphfuncs.js"></script>
  <!--<script src="https://code.highcharts.com/highcharts.js"></script>
  <script src="https://code.highcharts.com/highcharts-more.js"></script>
  <script src="https://code.highcharts.com/highcharts-3d.js"></script>
  <script src="https://code.highcharts.com/modules/exporting.js"></script>
  <script src="https://code.highcharts.com/modules/export-data.js"></script>
  <script src="https://code.highcharts.com/modules/accessibility.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="graphfuncs.js"></script>-->
</head>

<body class="styled-letters" onLoad="callItineraryGraph()">

<table>
  <tr>
    <td>
      <table id="table_actividades" class="styled-table"></table>
      <br><hr><hr>
      <table id="table_actividades_excluded" class="styled-table"></table>
    </td>
    <td>&nbsp;&nbsp;&nbsp;</td>
    <td>
      <div id="container_itinerary"></div>
    </td>
  </tr>
</table>

<script type="text/javascript">
      function callItineraryGraph() {
        const queryString = window.location.search;
        const urlParams = new URLSearchParams(queryString);

        let idOfItinerary = urlParams.get('id');
        let urlIti = urlParams.get('urlIti');

        fetchForCombo('table_actividades', urlIti + 'getActivitiesIncludedById/'+idOfItinerary, procesarItinerarioIncluded);
        fetchForCombo('table_actividades_excluded', urlIti + 'getActivitiesExcludedById/'+idOfItinerary, procesarItinerarioExcluded);
        fetchOHLC(idOfItinerary, 'container_itinerary', urlIti + 'getOnlyIncludedById/', procesarItinerario3DBubles);
      }

    </script>

</body>
</html>
